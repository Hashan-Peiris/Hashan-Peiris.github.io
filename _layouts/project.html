---
layout: compress
---

<!DOCTYPE html>
<html>

<head>
    {% include head.html %}
</head>

<body>
    {% include navbar.html %}

    <!--Main Section-->
    <section class="hero is-fullheight" id="project">
        <div class="hero-body">
            <div class="container">
                <div class="section has-text-centered">
                    <p class="subtitle is-uppercase has-text-weight-medium has-text-grey">Projects</p>
                    <h1 class="title is-2">Research, industry, and innovation</h1>
                    <p class="project-intro">Use the category chips or search to find the work you're interested in. All entries are driven by <code>_data/projects.yml</code>.</p>
                </div>
                <div class="project-filters">
                    <div class="field">
                        <label class="label has-text-white">Search</label>
                        <div class="control has-icons-left">
                            <input id="project-search" class="input is-medium" type="search" placeholder="Search by title, description, or tag" aria-label="Project search">
                            <span class="icon is-left">
                                <i class="fas fa-search"></i>
                            </span>
                        </div>
                    </div>
                    <div class="field">
                        <label class="label has-text-white">Filter by category</label>
                        <div class="buttons are-small" id="project-category-buttons">
                            <button class="button is-light is-active" data-category-filter="all">All</button>
                            {% assign categories = site.data.projects | map: 'category' | uniq | sort %}
                            {% for category in categories %}
                            <button class="button is-dark" data-category-filter="{{ category | downcase }}">{{ category }}</button>
                            {% endfor %}
                        </div>
                    </div>
                </div>
                {% include project-card.html %}
            </div>
        </div>
    </section>

    <!--Footer-->
    {% include footer.html %}

    <script>
    const searchInput = document.querySelector('#project-search');
    const categoryButtons = document.querySelectorAll('[data-category-filter]');
    const projectCards = document.querySelectorAll('[data-project-card]');

    function normalize(text) {
        return (text || '').toLowerCase();
    }

    function applyFilters() {
        const searchTerm = normalize(searchInput.value);
        const activeCategoryButton = document.querySelector('[data-category-filter].is-active');
        const activeCategory = activeCategoryButton ? activeCategoryButton.dataset.categoryFilter : 'all';

        projectCards.forEach(card => {
            const title = normalize(card.dataset.projectTitle);
            const description = normalize(card.dataset.projectDescription);
            const tags = normalize(card.dataset.projectTags);
            const category = card.dataset.projectCategory;

            const matchesSearch = searchTerm === '' || [title, description, tags].some(text => text.includes(searchTerm));
            const matchesCategory = activeCategory === 'all' || category === activeCategory;

            if (matchesSearch && matchesCategory) {
                card.classList.remove('is-hidden');
            } else {
                card.classList.add('is-hidden');
            }
        });
    }

    searchInput.addEventListener('input', applyFilters);

    categoryButtons.forEach(button => {
        button.addEventListener('click', () => {
            categoryButtons.forEach(btn => btn.classList.remove('is-active'));
            button.classList.add('is-active');
            applyFilters();
        });
    });

    applyFilters();
</script>
</body>

</html>
